<div *ngIf="isLoading">
  <p>â³ Lade Produkte...</p>
</div>

<div *ngIf="errorMessage">
  <p class="error">{{ errorMessage }}</p>
</div>

<div *ngIf="!isLoading && !errorMessage">
  <h2>ProduktÃ¼bersicht</h2>

  <!-- ğŸ“Œ Produktkarten-Ansicht -->
  <div class="product-grid">
    <div class="product-card" *ngFor="let product of products">
      <img [src]="product.image" alt="{{ product.name }}" class="product-image">
      <h3>{{ product.name }}</h3>
      <p>SKU: {{ product.sku }}</p>
      <p>Preis: {{ product.price | currency:'EUR' }}</p>
      <p>VerfÃ¼gbar: {{ product.stock }} StÃ¼ck</p>

      <!-- âœ… MenÃ¼ pro Produkt -->
      <button mat-button [matMenuTriggerFor]="productMenu" (click)="setProductId(product.id)">
        ğŸ”½ Aktionen
      </button>
    </div>
  </div>

  <!-- ğŸ“Œ MenÃ¼ fÃ¼r Aktionen (z.B. Bearbeiten/LÃ¶schen) -->
  <mat-menu #productMenu>
    <a mat-menu-item (click)="navigateToModify()">âœï¸ Produkt bearbeiten</a>
    <a mat-menu-item *ngIf="selectedProductId !== null" (click)="deleteProduct(selectedProductId)">
      ğŸ—‘ï¸ Produkt lÃ¶schen
    </a>

  </mat-menu>

  <!-- ğŸ“Œ Admin-Tabellenansicht -->
  <table *ngIf="products.length > 0">
    <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Preis</th>
      <th>Aktionen</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let product of products">
      <td>{{ product.id }}</td>
      <td>{{ product.name }}</td>
      <td>{{ product.price | currency }}</td>
      <td>
        <button mat-button [matMenuTriggerFor]="productMenu" (click)="setProductId(product.id)">
          ğŸ”½ MenÃ¼
        </button>
      </td>
    </tr>
    </tbody>
  </table>
</div>
